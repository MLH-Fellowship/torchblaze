(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{149:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/imagelist-d32bf923e44309f4486696745b2a6e2e.PNG"},150:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/runimage-eacb31e87d613d6cae7207613a9181e5.PNG"},151:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/dockerapps-a7b3d96f9a8f2ba3cf38aacb7cf4abed.PNG"},84:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return l})),a.d(t,"default",(function(){return p}));var o=a(3),n=a(7),i=(a(0),a(105)),r={id:"docker",title:"Dockerizing Your Projects"},c={unversionedId:"docker",id:"docker",isDocsHomePage:!1,title:"Dockerizing Your Projects",description:"Dockerizing an application is the process of converting an application to run within a Docker container. While dockerizing most applications is straight-forward, there are a few problems that need to be worked around each time.",source:"@site/docs/docker.md",slug:"/docker",permalink:"/torchblaze/docs/docker",version:"current",sidebar:"someSidebar",previous:{title:"APITests",permalink:"/torchblaze/docs/apitest"}},l=[{value:"Steps to DockeriSe your Flask ML RESTful API",id:"steps-to-dockerise-your-flask-ml-restful-api",children:[]},{value:"Running the Docker Image",id:"running-the-docker-image",children:[]},{value:"Stopping the Docker Container.",id:"stopping-the-docker-container",children:[]}],s={toc:l};function p(e){var t=e.components,r=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},s,r,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Dockerizing an application is the process of converting an application to run within a Docker container. While dockerizing most applications is straight-forward, there are a few problems that need to be worked around each time."),Object(i.b)("p",null,"To overcome all difficulties TorchBlaze comes with an inbuilt module to perform dockerization for ML Models."),Object(i.b)("p",null,"Before we proceed you need to install Docker by taking the reference from the setup instructions."),Object(i.b)("h2",{id:"steps-to-dockerise-your-flask-ml-restful-api"},"Steps to DockeriSe your Flask ML RESTful API"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},'Once you setup the basic file structure and perform all the API checks, then you need to be cautions about the port as 8080 and host address as "0.0.0.0" in app.py.')),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Then go to the main project path in command prompt or terminal ."))),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-py"},"cd < Project Folder Name >\n")),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},'For example , if you created a project using template named "Sample" then command would be ')),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-py"},"cd Sample\n")),Object(i.b)("ol",{start:4},Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Now, create a requirements.txt file and add all the required python libraries needed for your project to the requirements.txt file.")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Once that is done, run the following command to generate the Docker Image for your appliciation."))),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-py"},"torchblaze generate_docker IMAGE_NAME\n")),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"You can include your own Dockerfile but make sure you need to expose 8080 as the port number which is the default in the template Dockerfile that we provide. "))),Object(i.b)("ol",{start:6},Object(i.b)("li",{parentName:"ol"},"The above command creates the Dockerfile and generates the Docker Image with the following output. But make sure you are in the root location of your project folder.")),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"Building a Docker Image usually takes some time. This depends on the application size you want to build."))),Object(i.b)("ol",{start:7},Object(i.b)("li",{parentName:"ol"},"Now the Docker image is successfully created. You can view all the docker images using following command in terminal.")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-py"},"docker images\n")),Object(i.b)("ol",{start:8},Object(i.b)("li",{parentName:"ol"},"The output returns you the output similar to the below one where you can find the recently created image.")),Object(i.b)("p",null,Object(i.b)("img",{alt:"docker images list",src:a(149).default})),Object(i.b)("h2",{id:"running-the-docker-image"},"Running the Docker Image"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"To run your Docker Image you need to use the following command.")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-py"},"torchblaze run_docker IMAGE_NAME\n")),Object(i.b)("ol",{start:2},Object(i.b)("li",{parentName:"ol"},"The output looks as follows.")),Object(i.b)("p",null,Object(i.b)("img",{alt:"docker running image",src:a(150).default})),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},"You can now navigate to ",Object(i.b)("a",{parentName:"li",href:"http://127.0.0.1:8080/%7Broute%7D"},"http://127.0.0.1:8080/{route}")," to check your application.")),Object(i.b)("h2",{id:"stopping-the-docker-container"},"Stopping the Docker Container."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Major Problem people face is once they apply CTRL-C to the process to stop the applciation it is stopped in the CLI but the port is allocated so you can't run it again.")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"So we need to stop the containers which we created. For this open Docker Desktop which is already installed and click on the containers section on the left navbar. Select the running containers and stop them.")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"It looks similar to this below."))),Object(i.b)("p",null,Object(i.b)("img",{alt:"docker apps",src:a(151).default})),Object(i.b)("p",null,"In this way TorchBlaze makes your life easier while dealing with the containerization and Docker for your ML Flask API."))}p.isMDXComponent=!0}}]);